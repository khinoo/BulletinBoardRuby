<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-5">
            <div class="card shadow-lg border-0 rounded-lg mt-5">

                <div class="card-header">
                    <h3 class="text-center font-weight-light my-4 text-primary">Update User</h3>
                </div>

                <div class="card-body">  
                  <%= form_with model: @user_profile_form, url: update_profile_user_path(@user_profile_form.id), :html => { :style => 'width: 80%;' } do |form| %>
                    <ul>
                        <% @user_profile_form.errors.full_messages.each do |msg| %>
                            <li><%= msg %></li>
                        <% end %>
                    </ul>
                    <%= image_tag @user.profile, style: 'margin-left: 100px;height:150px;width:auto;' %>
                    <br><br>
                    <div class="form-group mb-3 row">
                        <div class="col-sm-5 col-form-label text-end"> <%= form.label "Name" %> </div>
                        <div class="col-sm-6"><%= form.text_field :name, class: "form-control" %></div>
                        <label style="color: red;">*</label>
                    </div>

                    <div class="form-group mb-3 row">
                        <div class="col-sm-5 col-form-label text-end"> <%= form.label "Email Address" %> </div>
                        <div class="col-sm-6"> <%= form.text_field :email, class: "form-control" %> </div>
                        <label style="color: red;">*</label>
                    </div>

                    <div class="form-group mb-3 row">
                        <div class="col-sm-5 col-form-label text-end"> <%= form.label "Type" %> </div>
                        <div class="col-sm-6"> <%= form.collection_select :role , User.usertypes, :first, :last, {include_blank: true}, class: "form-control" %> </div>
                        <label style="color: red;">*</label>
                    </div>

                    <div class="form-group mb-3 row">
                        <div class="col-sm-5 col-form-label text-end"> <%= form.label "Phone" %> </div>
                        <div class="col-sm-6"> <%= form.text_field :phone, class: "form-control" %> </div>
                    </div>

                    <div class="form-group mb-3 row">
                        <div class="col-sm-5 col-form-label text-end"> <%= form.label "Date of Birth" %> </div>
                        <div class="col-sm-6"><%= form.date_field :dob, id: 'datepicker', :autocomplete => :off, class: "form-control" %></div>
                    </div>

                    <div class="form-group mb-3 row">
                        <div class="col-sm-5 col-form-label text-end"> <%= form.label "Address" %> </div>
                        <div class="col-sm-6"> <%= form.text_field :address, class: "form-control" %> </div>
                    </div>

                    <div class="form-group mb-3 row">
                        <div class="col-sm-5 col-form-label text-end"> <%= form.label "Profile" %> </div>
                        <div class="col-sm-6"> <%= form.file_field :edit_profile, style: 'height:150px;width:auto;' %> </div>
                        <label style="color: red;">*</label>
                         <%= form.hidden_field :profile, :value => @user.profile %>
                         <%= form.hidden_field :id, :value => @user.id %>
                    </div>
                    
                    <div class="form-group mb-3 row">
                        <div class="col-sm-7 col-form-label text-end"><a href="change_password">Change Password</a> </div> 
                    </div>

                    <div class="form-group mb-3 row mb-0">
                      <div class="col-sm-5 col-form-label text-end"> </div>
                      <div class="col-sm-7">
                          <%= form.submit "Confirm", class: 'btn btn-primary' %>
                          <%= button_tag "Clear", class: 'btn btn-secondary', type: :reset %>
                      </div>
                    </div>
                  <% end %>
                </div>

            </div>
        </div>
    </div>
</div>